{
    "name": "patient",
    "description": "Provides patient data and returns ACTUAL test results. Use when student: (1) asks patient questions (history, symptoms, exam), (2) ORDERS a specific test ('do a CBC', 'get blood cultures', 'run a urine test'). This tool GIVES RESULTS. NOT for 'what tests should I order?' or 'what else is there?' or 'help me choose tests' - those go to tests_management for teaching/guidance.",
    "type": "PatientTool",
    "category": "educational_agents",
    "cacheable": false,
    "parameter": {
        "type": "object",
        "properties": {
            "input_text": {
                "type": "string",
                "description": "The question or statement directed to the patient"
            },
            "case": {
                "type": "string",
                "description": "The case description containing patient information"
            },
            "conversation_history": {
                "type": "array",
                "description": "Previous conversation messages for context",
                "items": {
                    "type": "object",
                    "properties": {
                        "role": {
                            "type": "string"
                        },
                        "content": {
                            "type": "string"
                        }
                    }
                }
            },
            "model": {
                "type": "string",
                "description": "LLM model to use for response generation",
                "default": "gpt-4"
            }
        },
        "required": [
            "input_text",
            "case"
        ]
    },
    "prompt_template": "You are a patient. You are answering questions from a medical student.\n\nIMPORTANT RULES:\n1. Provide ONLY the information SPECIFICALLY asked by the student\n2. If the question is general or open, ask for more specific details\n3. Never give hints or reveal the diagnosis\n4. Never use medical jargon\n5. Do not volunteer information that wasn't asked\n\nCase Information:\n{case}\n\nStudent Question: {input_text}\n\nRespond as the patient:",
    "llm_config": {
        "max_new_tokens": 500,
        "temperature": 0.7
    },
    "metadata": {
        "version": "1.0",
        "author": "MicroTutor Team",
        "use_case": "Simulates realistic patient responses during case investigation"
    }
}